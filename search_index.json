[
["geographic-information.html", "A Canadian Introduction to GIS using QGIS Chapter 1 Geographic Information", " A Canadian Introduction to GIS using QGIS Dewey W. Dunnington 2018-04-28 Chapter 1 Geographic Information Eventually this section will be in book chapter form, but for now you can get this information as a copy of the introductory powerpoint. "],
["coordinate-reference-systems.html", "Chapter 2 Coordinate Reference Systems", " Chapter 2 Coordinate Reference Systems TODO: write this section "],
["intro-data-sources.html", "Chapter 3 Where to get GIS Data 3.1 GADM: Global Administrative Areas 3.2 The Atlas of Canada 3.3 CanVec Data 3.4 GeoGratis 3.5 Provincial Sources", " Chapter 3 Where to get GIS Data TODO: write this section 3.1 GADM: Global Administrative Areas The GADM database is a collection of administrative boundaries. You can download the shapefiles by country or the whole world if you have a lot of time and a lot of disk space. Several Canadian files are included in this tutorial. These files are for personal or academic use only. Level 0 is countries, level 1 is provices/states, and level 2 is counties. 3.2 The Atlas of Canada The Atlas of Canada 1:1,000,000 scale dataset is particularly good for Canada-wide maps, as they reflect the zoomed-out nature of these maps and include all of the layers needed to produce a nice-looking map of Canada. You can find a QGIS Project with most of the layers you will need on GitHub (created by me a long time ago), or you can get the original data on GeoGratis. 3.3 CanVec Data CanVec is the (Canadian) national vector dataset used to create NRCan Topographic Maps (1:50,000 scale). This data is ideal for local-scale maps, such as a map of Wolfville. A county-wide map is probably about as widespread as you will want to go using this dataset, since it is quite detailed and the files can be large. You can get this data from the GeoGratis Data Extractor, along with low-resolution digital elevation models. 3.4 GeoGratis GeoGratis is a multi-purpose geospatial data warehouse for Government of Canada datasets. These datasets are often quite good, although they can be dated (NRCan takes a very serious approach to data validation, which means by the time everything is validated, the maps are ironically out of date). 3.5 Provincial Sources 3.5.1 Nova Scotia 3.5.1.1 GeoNova The equivalent to GeoGratis in Nova Scotia is GeoNova, which is a general-purpose spatial data warehouse for the province of Nova Scotia. It is somewhat difficult to navigate, but includes some valuable datasets like the Nova Scotia forestry inventory and high-resolution DEM layers. Tiled 1:10,000 topographic information can be found in the Data Locator. The Geospatial Data Directory lets you download these these layers province-wide in high resolution, which will take a lot of your time and disk space. It’s probably better to stick with the tiled datasets unless you have grand plans to create a province-wide atlas. Note that some ZIP archives put out by GeoNova require something called “P7ZIP” if you are running Mac OS. 3.5.1.2 Nova Scotia DNR Data The Nova Scotia Department of Natural Resources has some excellent data that is often published alongside its paper maps and written publications. They have an excellent GIS Data section on their website. "],
["creating-maps-in-qgis.html", "Chapter 4 Creating Maps in QGIS", " Chapter 4 Creating Maps in QGIS Throughout this course you will use the same steps to create a map. Prepare your data Add your data to QGIS Make sure your layer CRS values are correct, and choose a project CRS Make your map look pretty Use a Print Composer to export your map We will introduce these steps not in the order listed above, but in order of difficulty (more or less). In Chapter 5 you will learn how to add data to the map, change the Project CRS, and use the Print Composer to export a map from QGIS; in Chapter 6 and Chapter ?? you will learn how to style vector layers; in Chapter 7 and Chapter 9 you will learn how to download freely available GIS data from the internet and prepare our own data to import to QGIS. In Chapter 10 you will practice these five steps by creating a minimalist study stue map, and in Chapters 11 and 12 you will learn how to create, edit, and process vector and raster layers. "],
["tutorial-mapofcanada.html", "Chapter 5 A Map of Canada 5.1 Purpose 5.2 Tutorial 5.3 Assignment Instructions", " Chapter 5 A Map of Canada 5.1 Purpose Demonstrate how to add vector layers and raster layers to a QGIS project Use the Zoom, Pan, Select, and Identify tools to navigate the map Illustrate the effect of changing the Project CRS Use the Print Composer to export the map from QGIS 5.2 Tutorial Add vector map of Canada Zoom, Pan, Select, Identify, Attribute Table Change the CRS to World Mercator, UTM Zone 10, UTM Zone 20, back to World Mercator Add the satellite raster map of Canada Demonstrate changing layer order, visibility Make a basic print composer with a map, scalebar, and north arrow 5.2.1 Adding Data Add a “vector layer”. Browse for a file. Choose “Canada-WGS84.shp” from the “02-03 First Map Data” folder within the tutorial data directory. Remove the layer. Another way to add a layer is to drag and drop from the file manager. Drag the “Canada-WGS84.shp” from the “02-03 First Map Data” folder into the “Layers” panel (you will always drag the “.shp” file when adding vector layers in this way). 5.2.2 Basic Map Tools Useful tools for getting around the map are the “pan” tool (the hand), the “zoom” tools, and the “identify” tool. Choose the “identify” tool. Click on one of the “features” on the map. A list of “attributes” should appear in the QGIS window. Attribute values can also be accessed through the attribute table. Right click on the layer in the Layers window, and choose Open Attribute Table. In the attribute table, features are in rows, and attributes are in columns. Click on one of the features to select that feature. Next, click on the Zoom Selected icon to zoom the map to show that feature. To unselect the feature and return the map to its original position, chose Deselect Features from All Layers and then Zoom Full. The map should be zoomed out to all of Canada. 5.2.3 QGIS Projects QGIS Projects save the state of the map, references to the data that are on your map, and the styles you’ve defined for your layers. Saving a project will not save your data. For this reason, it’s usually a good idea to keep your QGIS project file and your spatial data in the same folder. To save the map of canada project, choose Save As from the Project menu. Enter a file to which the project should be saved (save it within the “02-03 First Map Data folder”). Were you to open the project file again, the map should appear exactly as you left it, provided that you didn’t move any of the spatial data relative to the project file. 5.2.4 Changing the Project CRS To examine or change the Project CRS, click the globe-looking thing in the lower right corner of the QGIS window. This will open a window enabling you to choose another CRS. A commonly used CRS is the “World Mercator” projection. To find it, type “mercator” into the Filter text box, and select “Word Mercator” from the list of CRSs. Select OK to apply the change. The shape of your map should now appear different. To change the Project CRS again, click the globe in the lower right corner of the QGIS window. The Mercator projection exaggerates areas in the far north, and is usually not appropriate for a nationwide map of Canada. There are several Canadian-specific projections, one of which is the “Canada Albers Equal-Area Conic”. This projection provides a reasonable representation of all of Canada. Your map should now appear like this. To change the Project CRS yet again, click the globe in the lower right corner of the QGIS window. Smaller-scale maps often use the Universal Transverse Mercator projection, which approximates small areas well. Nova Scotia is often represented by UTM Zone 20. Choose the “WGS 84 / UTM zone 20N” from the CRS list. Notice how the meridian surrounding Nova Scotia is represented well by the projection, but other areas are not. To illustrate the effect of chaging the UTM Zone, we will change the Project CRS again. British Columbia is often represented in UTM Zone 10N. Choose this CRS from the CRS list. UTM Zone 10 represents British Columbia well, but other areas are distorted. Finally, we will change the CRS one last time. For the rest of the tutorial, we will use the “World Mercator” projection. You can choose this from your recently used CRS list or by typing “mercator” into the Filter text box. Your map should now look like this. 5.2.5 Raster Layers So far we have only worked with one layer that is a vector layer. To add a raster layer, choose Add Raster Layer from the toolbar on the left (or the Layers menu), and select “canada_map_raster.tif” from the “02-03 First Map Data” folder. When more than one layer is in a project, they can be ordered such that one is drawn before the other. Drag the “canada_map_raster” layer below the other layer to change the draw order. You can also toggle the visibility of a layer. To toggle the visibility, click the check mark beside the layer name. To toggle the visibility back on, click the box again. 5.2.6 Creating a Print Composer Choose the Zoom tool and zoom in to Nova Scotia. Next, choose New Print Composer from the Project menu. For now, leave the name of the Print Composer blank, and hit OK to create the Print Composer. The Print Composer window resembles that of basic vector drawing software. You will (almost) always add a map, scale bar, and north arrow to your maps (and you should always add them in that order!). To add a map, choose the Add Map icon on the left side of the window. Next, drag from corner to corner where the map should be located. The next step is to add a scale bar. Choose the Add Scale Bar tool from the left side of the window, and click somewhere on the page. A scale bar synced with the map should now appear. Drag it to where you want it on the page. Each element on the page has properties associated with it. By default, scale bars two “left” segments, which I think look ugly. Change this to zero left segments to remove them. To add a North Arrow, choose the Add Image tool from the left side of the window. Next, drag from corner to corner to approximately where you would like the north arrow on the page. In the Item properties, choose the … button to set the image source. There is a vector drawing of a north arrow included in the tutorial data folder. Choose the north arrow of your choice. To synchronize the north arrow with the map, check the Sync with map check box. To export the map, choose on of the three export formats provided by QGIS. For now, we will not export the map. Close the composer window to return to your QGIS project. You can return to the composer at any time by choosing your composer from the Print Composers submenu of the Project menu. Composers are saved within projects, so when you hit Save on your print composer, you will save the project, and when you choose Save from within your project, you will save all of the print composers you have created. 5.2.7 Multiple Print Composers It is often desirable to have multiple print composers from a single project. I usually do this when I have the same map that I need for different page sizes (e.g. one for a powerpoint and one for a thesis diagram and one for a publication, etc.), or when I need the same page size with multiple extents when the layers look the same for each map. This significantly reduces the amount of duplication in the map-making workflow. To make a new composer, choose New Print Composer from the Project menu. Choose the Add Map tool and drag where you want the map on the page. By default, the map will show whatever area is shown in the project window when you create the composer. Often, this is not the desired extent. To move the extent shown in the map, choose the Move item content tool from the left side of the window. To zoom in or out, you can use your mouse scroll wheel or change the scale in the Item properties panel. Change the extent to show all of atlantic canada. You will always want to set your map size and extent before adding a scale bar. Next, add a scale bar. Move and configure the scale bar to your liking, then add the north arrow using the Add image tool as before. You can export the map using any of the three export buttons provided by QGIS. Save the project and close the composer window. You can return to either print composer using the Print Composers submenu from the Project menu. To rename, remove, or duplicate composers, choose Composer Manager from the Project menu. There are several options to choose from, including Show, Duplicate, Remove, and Rename. 5.3 Assignment Instructions The assignment submission is a PDF map generated using the print composer from this map. Make sure it includes a scale bar and north arrow. Make sure to save the project when you are done in addition to exporting the map! The assignment for the Map of Canada module. "],
["tutorial-vectorstyle.html", "Chapter 6 A Map of Wolfville 6.1 Purpose 6.2 Tutorial 6.3 The Assignment", " Chapter 6 A Map of Wolfville 6.1 Purpose Demonstrate how to assign styles to vector layers using a single symbol, a categorized symbology, a graduated symbology and a rule-based symbology. Suggest a set of styles to use for common layers such as roads, rivers, lakes, and contours. Practice using the Print Composer to export maps from QGIS. 6.2 Tutorial Add layers Single symbols Style simple polygons Style simple lines Style simple points Style advanced polygons Style advanced lines Style advanced points Categorized Symbols Rule-based Symbols Graduated Symbols 6.2.1 Adding the Data To start, we’re going to add a lot of layers to the map at once. It’s quite time consuming to do this using the Add Vector Layer dialog, so I suggest using the drag-and-drop approach, dragging the “CanVec Data” folder into the Layers panel. If you do use the Add Vector Layer dialog, remember to only select the “.shp” files. Slide01 Select all of the vector layers, then choose OK. Slide02 6.2.2 Simple Polygons The map looks nothing like a topographic map, which is, in the end, what we are trying to accomplish. The first layer we will modify is the “water_poly” layer. We will first open the Layer Properties dialog, which you can open by double-clicking on the layer, or by right-clicking the layer and selecting Properties. Slide03 Choose the Style tab, and then click on the water layer style. Choose OK to apply the style and close the dialog. Slide04 Next we will modify the vegetation layer. Open the Layer Properties dialog for this layer by double clicking, or right-clicking and selecting Properties. Slide05 Choose the “Green” style, and click OK to dismiss the dialog and apply the style. Slide06 Next, we will modify the “urban_areas” layer. Open the Layer Properies dialog for this layer. Slide07 There is no acceptable pre-made style for this layer, so we will have to make our own. The simplest modification possible is to change the fill colour. To do this, click on the color, or click on the little arrow next to the color and click Choose color…. Slide08 This will open a dialog that allows you to choose a colour. Urban areas are often represented in yellow fill on maps, so choose a shade of yellow (or another colour of your choice). Click OK on both dialogs to apply the style and close the dialogs. Slide09 There is also a bulidings polygon layer. Open the Layer Properties dialog for this layer. Slide17 Then, choose a black fill and choose OK. Slide18 6.2.3 Simple Lines Next, we will modify the streams layer. Open the Layer Properties dialog for the stream layer. Slide10 QGIS comes with a collection of Standard colors, which fit many needs. The light blue is particularly good for representing water layers, such as streams. Slide11 The default line width in QGIS is 0.26 mm, however this is too small for streams to be visible. Set the width to 0.5 mm. and choose OK to apply the style and close the dialog. Slide12 Next, we will modify the “roads” layer. Open the Layer Properties dialog for this layer. Slide13 Set the colour to black, and the width to 0.75 mm. Slide14 The next lines layer we will modify is the “contours” layer. Open the Layer Properties dialog for this layer. Slide15 You can choose one of the standard colours for the contours, or a better one if you have one offhand. Slide16 6.2.4 Simple Points The only point layer on this particular map is the point buildings layer. To modify its style, open the Layer Properties dialog. Slide19 There are a few choices for point shapes, and for the buildings layer we will choose the square shape with a Size of one. Choose OK to apply the style and close the dialog. Slide20 6.2.5 Symbol Layers There are some layers that can’t be represented with a simple line. A good example is the “railroads” layer, which is typically represented by a line with various cross-hatches. There is no built-in symbol for this in QGIS, so we will have to create one ourselves. Open the Layer Properties dialog to start. Slide21 First, set the Color to black. Then click the green “+” symbol to add a Symbol layer. Slide22 This will add another symbol that will be drawn on top of the black line. Under Symbol layer type, choose Marker line instead of Simple line. Slide23 Next, we need to customize the marker that is drawn repeadedly on top of the original black line. Choose the Simple marker symbol layer to customize this marker. Slide24 Choose the vertical line marker, and press OK to apply the style and close the dialog. Slide25 A similar symbol is the symbol for dykes or berms. To modify this style, open the Layer Properties dialog for the “dykes” layer. Slide26 Change the colour of the line to black, and choose the green “+” symbol to add a symbol layer. Slide27 Change the new Symbol layer type to a Marker line. Slide28 Choose the Simple marker symbol layer, and change the marker to the vertical line. Slide29 The symbol is now the same as the railroad symbol. To make the ticks to on only one side of the line, we need to change the size of the tick and the offset of the tick. Change the Size to 1.0 mm, and the Y Offset to 1 mm. Slide30 Finally, in the Marker line layer, change the interval to 2 mm. Slide31 6.2.6 Rule-based Styles Next, we will revisit the “contours” layer. Contours on maps generally have labels, and generally have a thicker contour every fifth line. We will now start to use the attribute table to dictate various aspects of layer styles through Rule-based styles, Labels, Categorized styles, and (in a later tutorial) Graduated styles. Rule-based styles are the most complex of the three, however their use in formatting the contour layer is common. Open the Layer Properties dialog for the “contours” layer. Slide32 From the dropdown at the top left, choose Rule-based instead of Single Symbol. Slide33 Now, add a new rule using the green “+” symbol. Slide34 Next, add a label for the rule. The labe of “major” (as in major and minor contours) is fitting for our application. Click the “…” to create the rule interactively. Slide35 Under Fields and Values, select “elevation” and double-click it to add it to the Expression. Slide36 The expression we will use is (&quot;elevation&quot; % 50) = 0. Without going into too much detail, this will apply our rule to all features where the elevation is a multiple of 50. Since the contour interval for this map is 10, this will be every fifth contour. Choose OK to close the dialog. Slide37 Next, we have to set the style for our “major” contours. This should be the same colour as the original contours, but slightly thicker (a Size of 0.5 mm). Choose OK to close the dialog. Slide38 Choose OK on the Layer Properties dialog to close the dialog and apply the style. Slide39 You should now have some contours that are thicker than others. 6.2.7 Labels Contours are generally labeled on topographic maps. To add labels, open the Layer Properties dialog on the “contours” layer. Slide40 Choose the Labels tab, and pick the “elevation” field under Label this layer with. Slide41 There are a number of additional options for labels, a few of which we will apply to labeling of contours. The first is the text size, which I generally make between 8 and 10 points. For contours, I usually make the label the same color as the contour line itself. Slide42 You can also apply a number formatting, which for contours is probably helpful. Slide43 An important component of labels on maps is the Text buffer. I always use a text buffer for labels on maps, usually with a Size of 1 mm and a color of white. If this is too stark a contrast on a map, I adjust the transparency or change the buffer colour. Slide44 Finally, we want to update the placement to make sure contour lines are labeled on top of the line instead of somewhere else. Choose OK to apply the labeling and close the dialog. Slide45 6.2.8 Categorized Styles Currently, the “water” layer looks like it contains separate polygons for different categories of water bodies. We want to label these differently on our map, but to do so we need to know what attribute defines the difference between them so we can use it to apply a Categorized style. Select the “water_poly” layer and switch to the Identify tool. Slide46 Click on the centre water polygon in the Minas Basin and inspect its attributes. Slide47 Now click on the outer water polygon and inspects its attributes, noting that there is a difference in “permanency” between the two. This make sense, because at high tide these areas are covered in water but at low tide they are not. Slide48 To apply the Categorized style, open the Layer Properties dialog for the “water_poly” layer. Slide50 From the dropdown menu at the top of the Style tab, choose Categorized. Slide51 Under Column, choose “permanency”, then click Classify. Slide52 In the window, you should see a list of permanency values. To modify the styles for features that have this value for permanency, double click on the row. Slide53 For a permanency value of 1, we simply want a “water” style. Click OK to apply the style. Slide54 For a permanency value of 2, we want a slightly different symbol. Double click the row to open the dialog to choose the style. Slide55 Select the “water” style (this will be the base style), but then click the green “+” sign to add a new symbol layer. Slide56 Instead of a simple fill, choose a Point pattern fill. This is similar to the Marker line we used earlier, but for polygons. Slide57 Next, change the pattern of points from a grid to an offset grid by changing the Horizontal distance to 3 mm, the Vertical distance to 3 mm, and the Horizontal displacement to half that value (1.5 mm). Slide58 Finally, change the Color of the marker to black. Slide59 And the Size of the marker to 0.2 mm. Click OK to apply the style. Slide60 Finally, click OK to close the dialog and apply the style. Slide61 6.2.9 Polygons with Outlines Sometimes, a polygon represents an outline more so than an area that should be filled. The “cemetaries” layer is an example of a layer of this type. Open the Layer Properties dialog for this layer. Slide62 Next, choose Simple fill in the symbol layers list to modify the advanced parameters of the fill. Slide63 Instead of filling the polygon with a Solid fill, choose No Brush. Slide64 You can also modify the outline style in a similar way to modifying a regular line. Choose Dash Line for the outline style. Slide65 Set the Border width to 0.75 mm. Slide66 Finally, change the border color to black and press OK to apply the style and close the dialog. Slide67 6.2.10 Point Symbols at Multiple Scales If you zoom in close, you will notice that no matter how far zoomed in/out you are, buildings will always be 2 mm in diameter. This works well for some zoom levels, but not others. To modify this behaviour, open the Layer Properties dialog for the “buildings_point” layer. Slide68 Instead of refering to the symbol Size in millimetres, we can also specify a size in Map units. For buildings, that represent a structure on the ground, this is a good choice. Slide69 Set the Size to 20 (a good approximation, since buildings are about 20 m across, and our project CRS in in metres). Press OK to close the dialog. Slide70 Buildings should now be appropriately sized when zoomed in… Slide71 …and zoomed out. Slide72 6.2.11 Raster Layer Styles Raster layers are slightly different to style, since they contain a single geometry (collection of cells) that may represent many different types of values. We will start by adding a Digital Elevation Model (DEM) of the Wolfville Area. You can do this using the drag-and-drop approcach or using Add Raster Layer. Slide73 With any luck, you should see a black-and-white raster layer appear over Wolfville. The default style for a raster layer is black as low and white as high. Just as we can change the defaults for vector layers, we can change the style of raster layers by opening the Layer Properties dialog. Slide74 There are several options for styling a raster layer. The default is Singleband gray, however Singleband pseudocolor is the most useful. Slide75 To apply a colour gradient to the raster image, you can select a colour gradient, and then click Classify. Slide76 If you apply the style, you should see something like this. Slide77 You can also increase the transparency of the raster to see below it. Slide78 In general, you will also want to rearrange the layers so that each is visible. A good rule of thumb is to put raster layers at the bottom, followed by polygons, followed by lines, followed by points. This isn’t always the best ordering, but will usually produce a good place to start. Slide79 Your map should now look like this. Slide80 6.3 The Assignment What we’ve just done is the “first pass” to make things look “about right”. You will always have to do this before you tweak all the colours and styles to be just how you would like. Over many years of creating maps with Canvec Data, I’ve settled on the following as my “best guess” for creating a good map. You’ll learn how to download CanVec data of your own in the next section. 6.3.1 Water Polygons Unless there’s something that looks funny, I usually go with the pre-defined “water” style with no outline. The details of this are as follows: Fill: #a5bfdd (hint: you can copy the text including the hash tag and choose Paste Color from the color chooser) Outline: usually none (outline style as No Brush) 6.3.2 Stream Lines Colour: The same as the fill colour for the water polygons (#a5bfdd). Size: 0.5 mm 6.3.3 Contour Lines Rule-based style, with the rule for major lines as (&quot;ELEVATION&quot; % 50) = 0. Colour: #bb8c6e Size: 0.26 mm (minor) and 0.4 mm (major) Labels: Text colour the same as the contour line, font size 8 points with a white, 0.5 mm text buffer positioned on top of the line. 6.3.4 Building Polygons Colour: black Outline: None 6.3.5 Building Points Shape: Square with no outline Size: 25 (in map units). You will have to have a project CRS that is in meters (most other than lat/lon are). 6.3.6 Wetlands There were no wetland (or “saturated soils”, as NRCan calls them) layers in this dataset, but they are available. Fill: #d0eadd (this is a light green) with a simple fill layer above it with colour #a5bfdd and Fill style “Dense 4”. Outline: None 6.3.7 Roads Roads are tricky, because to properly render them as a Categorized style where freeways are a specific colour requires some advanced QGIS style magic. Usually you want them to be black with a width of 0.5 mm or so. If you really want to try a classfied symbology, you can classify them by the ROADCLASS field. You will have to enable Symbol levels for the built-in road symbols to function properly. 6.3.8 Railways The railway symbol I always use is the one I’ve described here, usually changing the size of the crossways symbol and the spacing of the ticks to suit the final project. 6.3.9 Urban Areas I almost never include this layer, but occasionally it helps. Since I never incluce it, I don’t have a special colour that I can suggest. Sorry! "],
["tutorial-getdata.html", "Chapter 7 Downloading GIS Data 7.1 Tutorial", " Chapter 7 Downloading GIS Data So far we have used data only from the tutorials folder, which I have nicely manicured so that you can focus on learning specific skills. In the real world, you will want to make a map of your own sample site with your own data. In a later module we will learn how to import your data into QGIS, but you will still need “basemap” data to give spatial context to your data. 7.1 Tutorial Suggest a number of online sources for high-quality Canadian geographic data Demonstrate how to obtain basemap data from the Natural Resources Canada Geospatial Data Extractor. "],
["tutorial-qms.html", "Chapter 8 The Quick Map Services Plugin 8.1 Purpose 8.2 Tutorial 8.3 Tutorial", " Chapter 8 The Quick Map Services Plugin This tutorial will introduce you to another online resource: tiled maps. These are often not great for publishing maps, but can be very helpful when exploring data, and trying to make sure all data align. These services also occasionally provide satellite imagery. This functionality depends on the Quick Map Services plugin, which we will have to install from the QGIS Plugins repository. To install the plugin, choose Manage and Install Plugins… from the Plugins menu. 8.1 Purpose Demonstrate the installation use of the Quick Map Services plugin 8.2 Tutorial 8.3 Tutorial This tutorial will introduce you to another online resource: tiled maps. These are often not great for publishing maps, but can be very helpful when exploring data, and trying to make sure all data align. These services also occasionally provide satellite imagery. 8.3.1 Installing the QMS Plugin This functionality depends on the Quick Map Services plugin, which we will have to install from the QGIS Plugins repository. To install the plugin, choose Manage and Install Plugins… from the Plugins menu. Slide01 Next type “quickmap” into the Search box, and click Install plugin to install. Close the Plugins dialog. Slide02 You may wish to add the full spectrum of tiled map sources, which you can do by opening the Settings dialog in the QuickMapServices menu. Slide03 Chose the Contributed services tab, then click Get contributed pack. Slide04 8.3.2 Adding a QMS Tile Layer You can add any map service you would like, but we will add the OSM Mapnik style. Choose the service you would like to display, and click it to add it as a layer. Slide05 You can now zoom in, zoom out, and pan just like you would with a normal map. You can even use these layers in a print composer, although any text will often be too small to be legible in the final product. Slide06 8.3.3 Adding a GADM Layer Several GADM files are included in your tutorial folder. Add the “CAN_adm1.shp” file to the layers window. Slide07 Slide08 Typically, these boundaries should be displayed with no fill, which you can arrange using the Layer Properties dialog. Slide09 A typical basemap using GADM looks something like the map below. Slide10 "],
["tutorial-dataprep.html", "Chapter 9 Preparing GIS Data 9.1 Purpose 9.2 Tutorial 9.3 The Assignment", " Chapter 9 Preparing GIS Data 9.1 Purpose Demonstrate how to create a CSV in Excel and import it into QGIS Demonstrate how to create a KML file in Google Earth and import it into QGIS Describe additional data formats that exist and how to import them to QGIS Demonstrate how to convert vector layers from one format to another 9.2 Tutorial Create points csv Create cores KML Describe GPX format Add layers to QGIS Save layers from QGIS In a previous version of this tutorial, I used a georeference airphoto as a backdrop. Instead, use the skills you learned in the basemap data tutorial to add a basemap of your choosing (OSM Mapnik is always a good bet). 9.2.1 Adding CSV Data First, we will add a Comma Separated Value (CSV) file. To open the import dialog click on the Add Delimited Text Layer icon. Slide02 You will then have to choose a file to open. Click the Browse… button. Slide03 Then, navigate your way to the “depth_survey.csv” file within the “07 Alta Lake Data” folder. Slide04 The next thing you have to ensure is that the X field and Y field are properly set. For this file they should be “lon” and “lat”, respectively. Hit OK to add the layer. Slide05 Right click on the layer you’ve just added and choose Zoom to layer. This should zoom you to the extent of the layer. If you’ve done things correctly, it should be over Alta Lake, near the town of Whistler, British Columbia. Note that there is a warning that we did not define our CRS. If you remember, there is the Project CRS, and Layer CRS. The Layer CRS refers to what the creator of the layer meant when they stored their XY coordinates. I created this layer, and these coordinates came off of a GPS. GPS latitude longitude coordinates are in the WGS84 coordinate reference system, so the default in this case is correct. Slide06 If your coordinates happen to not be in lat/lon, you can specify the layer CRS by right clicking on the layer and choosing Set Layer CRS. You don’t need to do this for the layer we’ve just added. Slide07 9.2.2 Adding GPX Data GPX (or GPs eXchange files) are a common output of GPS units. QGIS can read these like any other vector file format, but since the GPX file may contain one or more different layers, the process is more like adding a folder of vector files. You can add a GPX file by dragging it into the Layers panel, or through the Add Vector Layer dialog. Slide10 QGIS gives us the option of importing waypoints, tracks, routes, or the nodes of tracks or routes. To see what the file contains, it’s a good idea to add all of the layers. Slide11 Some of these layers don’t contain any information (or contain information we don’t want). Remove all the layers except for the “waypoints” layer. Slide12 Now we’re going to do a little more practice with layer styles. We can’t see the core locations very well in the current styles, so we will update them. Open the Layer Properties dialog. Slide13 Choose a different shape, and a colour that has some contrast with the background. Slide14 It’s also worth labeling this layer, because each core location has a name. GPX files all have the same fields, and “name” is the one that gets populated with the name you typed on your GPS. You should also be sure to add a Text Buffer around the text. Slide15 Your map should look something like the image below. Slide16 9.2.3 Google Earth KML/KMZ files Some geospatial information is distributed in KML/KMZ form, which is the format used by Google Earth. Both types of files should work in QGIS, however KML is slightly more reliable. You can import a KML file to QGIS by dragging the KML file into the layers panel, or through the Add Vector Layer dialog. Slide17 This layer also doesn’t show up that well by default, so we will update its appearance. Slide18 From the Style tab, choose a colour that has some contrast with the background, and make the line wider. Slide19 9.2.4 Saving Vector Files If all you’re doing is making a map with your imported data and you don’t need to modify it or use it for any kind of processing, it’s fine to save your QGIS project as is without converting the data to another type of vector layer. Most of the time, you will need or want to save a copy of your data in shapefile form so that you can edit/maniuplate it within QGIS. To save a vector layer, right click the layer and choose Save As…. Slide20 In the Format dropdown, select “ESRI Shapefile”. Slide21 Next, choose the file to which you would like to save the layer. Slide22 Save the layer in the same folder as the original data, named something sensible. Slide23 You will probably not want to mess with the CRS, but if you would like to save a layer in a new CRS (you will want to do this if you do any kind of processing), you can select it in this dialog. Slide24 Choose OK to save your vector layer. Slide25 When you do this, a new vector layer should appear in your Layers panel. Remove the old layer (it will be confusing to you later). Slide26 Your map should now look like this. Slide27 9.3 The Assignment The assignment for this module is a PDF map of Alta Lake. Use the Print Composer to generate a map with the depth survey points and the QMS basemap. When you’ve completed the assignment, it should look something like the image below. The Assignment "],
["tutorial-nssites.html", "Chapter 10 Nova Scotia Study Sites Map 10.1 Purpose 10.2 Tutorial 10.3 The Assignment 10.4 Sequel", " Chapter 10 Nova Scotia Study Sites Map 10.1 Purpose Demonstrate how to export data from Google Earth Practice importing Google Earth Data to QGIS Practice manipulating layer appearance Practice using the Print Composer to export maps from QGIS 10.2 Tutorial Import NS counties Import study sites Style layers Export map using the print composer This tutorial demonstrates the map-making sequence that we will use in the rest of the course. This process is as follows: Prepare data Add data Make sure your data lines up and pick a Projec CRS that isn’t Lat/Lon Modify the styles (make it look pretty!) Create a Print Composer and export. 10.2.1 Exporting from Google Earth You don’t need to do this part, but I thought I’d include a screenshot of how to export data from Google Earth. If you need to make a study site map, there’s a good chance your data is already in Google Earth. To export it, right click the folder containing your items and choose Save As…. You will likely want to save it as a KML rather than a KMZ. QGIS theoretically opens both, but opens KML files more reliably (as do other programs). Slide1 10.2.2 1. Add the data We will add two vector layers to create this map. You could drag and drop from the file manager, or you can add them from the Add Vector Layer dialog (shown below). Slide2 The files you will need to load are the “NS_Counties.shp” layer, and the “Study Sites NS.kml” layer. You can select both by selecting one and presssing the Ctrl key while selecting the other (it will be the Command key on a mac). Slide3 Select Open to add the layers. Slide4 10.2.3 2. Modify the styles The next step is to modify the appearance of the map. First and foremost, this means making sure all layers are visible. In our case, the Study Sites layer should be above the NS Counties layer. Drag the layer to change the order, and then open the Layer Properties dialog for the Study Sites layer. Slide5 In addition to choosing the style (I’ll leave this up to you), you can add labels for the layer. If you increase the Distance around each point, the labels won’t intersect with the marker itself. Slide6 You should also change the style for the NS Counties layer such that it has only borders and no fill. Slide7 10.2.4 3. Choose a Project CRS You should always remember to set a Project CRS. In some cases this will be set for you, but for the most part you will have to at least make sure it is not lat/lon (WGS84/EPSG:4326). A good bet for all maps is the World Mercator projection. for Nova Scotia, you can use the UTM zone 20N projection. Slide8 After setting the CRS, your map should look like this. Slide9 10.3 The Assignment For your assignment, create a Print Composer and add a scale bar, north arrow, and legend. The Assignment 10.4 Sequel So far we have used only data that I have given you. Next, we will enter the realm of creating and editing features. "],
["tutorial-createedit.html", "Chapter 11 Creating and Editing Features 11.1 Purpose 11.2 Tutorial 11.3 The Assignment 11.4 Sequel", " Chapter 11 Creating and Editing Features 11.1 Purpose Learn how to create and edit vector layers Learn how to create and modify features Practice using the Print Composer to export maps from QGIS 11.2 Tutorial Import Long Lake outline, depths Style layers (label depths) Create layer Explain Editing mode Create feature/delete feature Edit feature Style Layers First, we will add the data required for the map. Using the Add Vector Layer dialog open the Browse file chooser. Slide01 Open the long_lake_depths and long_lake_outline layers from the “10 Interpolation Contouring” folder. Slide02 We will also add basic labels to each point, which we will need later. You can do this in the Layer Properties dialog; the points should be labeled with the “depth_m” field and have a text buffer of 1 mm. While you’re at it, you should make the water look like water as well. Slide03 11.2.1 Creating a Vector Layer Once you have the labels sorted, we can add a new vector layer. From the New Layer menu (you’ll have to click the little arrow), choose New Shapefile Layer. Slide04 This will bring up a dialog where we can specify the options for creating the layer. The first choice we have to make is that of the Layer CRS. This should usually be your project CRS, which in our case is UTM Zone 20. Slide05 After selecting UTM Zone 20 as the Layer CRS, we need to choose if the new layer will be a point, line, or polygon. We will be creating contours, which are line features. Slide06 Each depth contour will contain an attribute with the depth that it represents. To store this information in the shapefile, we need to add a field to the Attributes list. The field should be called “depth_m”, be of Type Decimal number, and have a Precision of 2. This means 2 points after the decimal place. Remember to click Add to attributes list! Slide07 Finally, when you’ve made sure you have all the correct options (CRS, point, line, or polygon, and attributes), press OK. Slide08 QGIS will then prompt you to save he layer. Save the file in the same folder as the data, and call it something like “long lake manual contours”. Click Save. Slide09 11.2.2 Adding and Editing Features To change the data that underlies a layer, we need to Edit that layer. To do this, you can click the little pencil icon on the Editing toolbar. Whenever you are editing a layer, the changes made to that layer are not saved until you turn editing off (by clicking the pencil icon again when that layer is selected, or by right clicking the layer and selecting Togle Editing). You should only ever be editing one layer at a time, and be careful when you do. Remember that if you change the data that underlies layer it will change in every project that uses that file, not just the one you are in! Slide10 To add a feature, choose the Add Feature tool. Click on the map to create your feature. Don’t toggle editing or switch tools while creating your feature!. It is not saved until you complete it, and your map will look confusing if you try to toggle editing or change tools while you do this. You can use the arrow keys to move the map extent while you are creating. Slide11 To finish adding, click on your final point, then right click somewhere else. Slide12 You will get a chance to enter your attribute values after you finish adding the feature. Slide13 When you have finished adding all of your contour lines (there should be 3…one for 1.5 m, one for 1.0 m, and one for 0.5 m), you will want to save your edits by toggling the editing status or clicking the little save icon next to the pencil. Slide15 If we open the attribute table for the layer, we should see the attributes we entered when creating the features. Slide16 11.2.3 Changing features Once features are created, they can be modified (actually, any feature can be modified as long as it comes from a shapefile layer and you’ve turned editing on for the layer). We will do this for our contours using the Node tool. Using this tool, you can click on a feature to look at the nodes, double click the feature to add a node at that location, drag the nodes around, and delete nodes (the one you’re about to delete will be blue). Slide17 11.2.4 Deleting features You can also delete features you’re not happy about. You can do this using the Select tool, and then clicking Delete Feature (in new versions of QGIS this is a red trash can). Slide18 11.3 The Assignment The assignment for this module is a PDF map that looks like the image below. You will need to create a Print Composer, add a scale bar, add a legend, and add a north arrow. You will also need to add labels to your contours. The Assignment 11.4 Sequel Next, we will get a brief introduction to processing in QGIS using the Processing Toolbox. Remember to save your project! You can use the same project for the next module if you would like. "],
["tutorial-processing.html", "Chapter 12 The Processing Toolbox 12.1 Purpose 12.2 Tutorial", " Chapter 12 The Processing Toolbox 12.1 Purpose Learn how to use the Processing Toolbox to maniuplate vector and raster data. 12.2 Tutorial Open Minas Passage Raster, coastlines vector, profile vector Create profile using the SAGA profile tool Style Layers, use Print Composer to export Optional exercise: contour Long Lake data using RST Important note about using the processing toolbox: Some algorithms are sensitive to column names (particularly those in the GRASS toolbox). Words you are not allowed to have in your columns (upper case or lower case) can be found at this link. The most problematic of these is AS (as in, arsenic could be a column name). Spaces in your column names will also not go over well. First, we will add the data required for the map. Using the Add Vector Layer dialog open the Browse file chooser. Slide01 Open the long_lake_depths and long_lake_outline layers from the “10 Interpolation Contouring” folder. Slide02 12.2.1 The Processing Toolbox You should make the water look like water, and it will help you verify your results later if you label your points. To open the Processing Toolbox, choose Toolbox from the Processing menu. Slide03 This should open a panel that has a list of processing algorithms. If you don’t see “GRASS” in the list, tell the instructor! You will need to install the “GRASS” plugin using the Plugin Manager. 12.2.2 Interpolation We will run one of these “geoalgorithms” to interpolate between the points to create a surface or raster layer that represents the same information. The algorithm we will use is called “v.surf.rst”, and is short for Regularized Spline Tension. Double click the name to bring up the algorithm window. Slide04 In the algorithm window, choose the Input points layer as “long_lake_depths”. Slide05 Next, we have to pick the attribute column that contains our “known” depth values. This is “depth_m”. Slide06 The other option we have to pick is the output cell size. Rasters are a collection of cells, and if this number is too small the file size will be huge, or if it is too big then the raster won’t have enough resolution to describe the surface. For now, set this value to 5 (metres). Click Run to run the algorithm. Slide07 With any luck, you should see a bunch of layers pop up on your screen. Then one you are interested in is the one labeled “Surface”. Remove the other layers. Slide08 Let’s inspect this raster using the Identify tool. Click near the labeled points to see if the raster approximated the known points correctly. Slide09 In our case, we want to clip this surface to the edge of the lake, since it doesn’t apply outside the lake. We can do this using another algorithm called “Clip grid wih polygon”. Slide10 The Input layer is “Surface”, and the Polygons layer is “long_lake_outline”. Choose Run to run the algorithm. Slide11 It may try to tell you that the layers do not have the same CRS. In our case this isn’t true, but if you get this message in real life and get unexpected results, you should make sure the layers have the same CRS before trying again. Slide12 The output should be a raster layer that only has values inside the lake boundary. Remove the “Surface” layer. Slide13 12.2.3 Contouring There is another geoalgorithm that will draw contour lines based on a raster surface. This algorithm is called “r.contour.step”. Slide14 Our Input raster is the “Output” layer, the minimum contour level is 0.5, the maximum is 2, and the interval is 0.5 m. Slide15 When the algorithm is run, you should have a layer called “contours”. If you did your hand contouring well, the computer generated contours should look similar to your own. Slide16 12.2.4 Saving the files So far, your files haven’t been saved! They are temporary files, which is great for trying a bunch of things, but not great if you close your project and forge to save them. Always save the outputs of your processing algorithms once you’ve decided to keep them. We will start by saving the raster layer “Output”. Slide17 Choose a location in which to save the raster output. Slide18 Save it as something descriptive in the tutorial folder. Slide19 Press OK to save the raster layer. Slide20 Next we will save the “contours” layer. Right click and choose Save As…. Slide22 I usually save contour layers with the contour interval somewhere in the name of the file. Slide23 Remove the temporary layers, and you should have a project that looks like this. Slide24 12.2.5 The Assignment For this module, use the Print Composer to create a PDF version of the map you have created. You can choose to include the raster layer or not, but if you do, you should include it in the legend. Your map should look something like the image below. The Assignment "],
["quick-reference.html", "A Quick Reference", " A Quick Reference This set of tutorials will summarise specific tasks like adding a layer or removing a layer (work in progress). "],
["projects.html", "B Projects B.1 Nova Scotia Study Sites B.2 Halifax Demographics B.3 CanVec Data", " B Projects A list of suggested projects with links to the relevant data B.1 Nova Scotia Study Sites Make a map of study sites using an Excel spreadsheet of study locations and GADM basemap data. B.2 Halifax Demographics Use Canadian Census data to visualize demographic changes from 2006 to 2011. B.3 CanVec Data Download CanVec data for your own study site and make a map using styles described in the Wolfville map tutorial. "],
["references.html", "References", " References "],
["introduction.html", "Introduction B.4 Prerequisites B.5 Philosophy B.6 Structure B.7 Conventions B.8 Acknowledgments", " Introduction B.4 Prerequisites This course uses QGIS and Canadian examples to give a brief introduction to geographic information systems. QGIS is an open-source GIS platform available for all major platforms, including Windows, Linux, and Mac OSX. This course was written using QGIS 2.18.2 for Mac OSX, however it is expected that this tutorial is valid from QGIS 2.14 up to future versions of QGIS. To use this course, you will need to install QGIS and download the course data. B.4.1 Installing QGIS QGIS downloads are available from the QGIS download page (https://qgis.org/en/site/forusers/download.html). Instructions on the website are fairly complete, but the process is slightly different based on platform. For this tutorial, you will need QGIS Version 2.18 LTR (not 3.0, which may work for some of the examples but is still in the early phase of adoption). B.4.1.1 Windows Windows users should use the “QGIS Standalone Installer 64 bit” download, and when opening QGIS, use the QGIS with GRASS shortcut on the desktop. B.4.1.2 MacOSX Mac users should download the .dmg file, open it, and install the packages in the order that they are indicated (they are numbered 01, 02, etc.). In order to install the packages, you will need to right-click on each package and choose Open, then choose Continue to install the package. B.4.1.3 Linux Occasionally, the distribution (e.g., Ubuntu) will have a version of QGIS in its software repository. While this version will work for many of the modules in this tutorial, I highly reccomend using the “Release with ubuntugis dependencies” repository to install QGIS, SAGA, and GRASS with Ubuntu. You will also need to add the QGIS certificate to your keychain, which you can do using: sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-key CAEB3DC3BDF7FB45 To install QGIS and dependencies, run: sudo apt-get update sudo apt-get install qgis python-qgis qgis-plugin-grass B.4.2 Course Data This course uses a series of minimal examples to illustrate common tasks in QGIS. The data for these examples is available for download at the tutorial website. You should extract this ZIP file to location you can find easily before starting this course (I use the Desktop; you can always move the course folder somewhere else later). B.5 Philosophy There are many excellent reference guides to QGIS, and much high-quality coures material available for teaching GIS and learning QGIS software. This course is designed to be a lightweight introduction to QGIS software to build a basic proficiency in GIS and GIS software, using Canadian examples and data to illustrate key concepts. This material is designed for a two-day short-course format. B.6 Structure The course is divided into three parts. The first is a textual introduction to GIS and QGIS, the second is a set of tutorials that will walk you through the creation of several common types of maps. Finally, there is a quick reference section that provides short tutorials for common tasks (e.g., adding a vector layer). B.7 Conventions Throughout this course we will use bold text to refer to terms that are in the glossary (like GIS or vector layer), italic text to refer to QGIS menu options or window titles (such as the Style tab or Layers Panel), “quotations” to refer to layer names (such as “buildings_poly”), and preformatted text to refer to filenames (such as 02 Map of Canada/Canada-WGS84.shp). B.8 Acknowledgments This course would not have been possible without the Department of Earth &amp; Environmental Science at Acadia University, which has run the course at least once per year since 2014. In particular this course would not have been possible without Lynn Graves, Ian Spooner, Christa Pufhal, Jonathan Shute, Lita O’Halloran, and Karissa Reischke. This course material was written using the bookdown package inside RStudio. Pages were generated using pandoc and gitbook. The source is available on github. "]
]
